<!-- eslint-disable @angular-eslint/template/elements-content -->
<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->
<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<div *ngIf="show_page ===0"  class="page-header">
  <div class="row align-items-center">
    <div class="col">
      <h3 class="page-title">HR</h3>
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a [routerLink]="routes.dashboard">Dashboard</a>
        </li>
        <li class="breadcrumb-item active">Employee</li>
      </ul>
    </div>
    <!-- <div class="col-auto">
      <a href="javascript:void(0);" class="btn btn-primary me-1">   <i class="fas fa-file-pdf"></i> </a>
      <a  class="btn btn-primary filter-btn"  href="javascript:void(0);"  id="filter_search"> <i class="fas fa-filter"></i></a>
    </div> -->
  </div>
</div>

<div *ngIf="selected.length === 0 && salary_credit === false && show_page === 0" class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="content-page-header">

          <h6>Salary Ganerated  List</h6>
        <div class="list-btn ">
          <ul class="filter-list">
            <li >
              <a class="btn-filters" href="javascript:void(0);"  (click)="exportExcel()"><i class="fas fa-file-excel me-1"></i></a>
            </li>

            <li   *ngIf="can_edit === 'true' || can_edit === '1'" >
              <a href="javascript:void(0);" class="btn btn-rounded btn-outline-primary right"  (click)="PageAction('show')"><i class="fa fa-plus-circle me-2"></i>Generate Salary</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="card-body">
        <div class="table_header">
          <div class="row">
            <div class="col-sm-12 col-md-6">
              <div class="dataTables_length">
                <label>
                  Show
                  <select
                  #size (change)="PageSize(size.value)"
                    class="form-control form-control-sm"
                  >
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                  </select>
                  Entries
                </label>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12 col-md-6">
              <div class="dataTables_filter">
                <label>
                  Search:
                  <input [(ngModel)]="searchDataValue"  (ngModelChange)="searchData(searchDataValue)"  class="form-control form-control-sm" (click)="moveToPage(1)" />
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="table-responsive">
          <table matSort (matSortChange)="sortData($event)"
          class="table table-center table-hover datatable">
            <thead class="thead-light">
              <tr>
                <th mat-sort-header="id">#</th>
                <th mat-sort-header="emp_name">Name</th>
                <th mat-sort-header="from_date">From Date</th>
                <th mat-sort-header="to_date">To Date</th>
                <th mat-sort-header="status">Status</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let employee of payroll_list; let i = index" (click)="onActivate(employee)" >
                <td>{{employee.s_no}}</td>
                <td>{{employee.name}}</td>
                <td>{{employee.from_date }}</td>
                <td>{{employee.to_date}}</td>
                <td>
                  <span class="badge badge-pill bg-success-light" *ngIf="employee.status === 1">Active</span>
                  <span class="badge badge-pill bg-danger-light" *ngIf="employee.status === 0">Disabled</span>
                </td>
              </tr>
            </tbody>
          </table>

          <!-- table footer -->
            <div class="table_footer">
              <div class="col-sm-12 col-md-5">
                <div class="dataTables_info">
                  Showing {{ serialNumberArray[0] }} to
                  {{ serialNumberArray[serialNumberArray.length - 1] }} of
                  {{ totalData }} entries
                </div>
              </div>
            <div class="col-sm-12 col-md-3">
                <div class="pagination_section">
                  <ul class="pagination">
                    <li   class="page-item"  [ngClass]="{ disabled: currentPage === 1}"  >
                      <a (click)="getMoreData('previous')"  class="page-link" href="javascript:void(0);" tabindex="-1">Previous</a>
                    </li>

                    <ng-container *ngFor="let item of pageNumberArray; let i = index">
                      <li class="page-item" [class.active]="item === currentPage" [ngClass]="  (pageNumberArray[currentPage - 2] > item &&  item !== 1 && pageNumberArray.length > 6) ||
                          (pageNumberArray[currentPage] < item && item !== 1 && pageNumberArray.length > 6 && pageNumberArray.length !== item)  ? 'hide-sub-menu' : 'show-sub-menu'" >
                        <a (click)="moveToPage(item)" class="page-link" href="javascript:void(0);">
                          {{ item }}
                          <span *ngIf="item === currentPage" class="sr-only" >(current)</span>
                        </a>
                      </li>
                      <li class="page-item" *ngIf=" i === 0 && pageNumberArray.length > 6 && currentPage > 2 " [hidden]="currentPage === 1">
                        <a class="page-link"  (click)="moveToPage(currentPage - 2)" href="javascript:void(0);"> ... </a>
                      </li>
                      <li  *ngIf="    i === pageNumberArray.length - 2 &&  pageNumberArray.length > 6 " [hidden]=" currentPage >= pageNumberArray[pageNumberArray.length - 2] || totalData < serialNumberArray[serialNumberArray.length - 1] "
                        class="page-item" >
                        <a class="page-link"  (click)="moveToPage(currentPage + 2)" href="javascript:void(0);"> ... </a>
                      </li>
                    </ng-container>

                    <li class="page-item"   [ngClass]="{ disabled: currentPage === pageNumberArray[pageNumberArray.length - 1] ||   payroll_list.length === 0   }" >
                      <a (click)="getMoreData('next')" class="page-link" href="javascript:void(0);" >Next
                      </a>
                    </li>
                  </ul>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




<div *ngIf="show_page === 1">
  <div class="modal-header">
    <button type="submit" class="btn btn-info" (click)="set_zero()"> <i class="fas fa fa-arrow-left"></i>  Back</button>
    <h2 class="modal-title">SALARY GENERATION</h2>
    <span></span>
  </div>
  <div class="row bottom-30">
    <div class="col-md-12">
      <div widget class="card">
          <div class="card-header" >
              <h5>Salary Period</h5>
          </div>
          <div class="card-body widget-body">
            <form [formGroup]="salary_load" class="row" (ngSubmit)="SalaryLoad(salary_load.value)">
              <div class="form-group row text-sm-right col-md-3">
                  <label class="col-sm-4 form-control-label m-t-5">From</label>
                  <div class="col-sm-8">
                      <input type="date" class="form-control" formControlName="from_date">
                      <span class="help-block text-danger"
                       *ngIf="salary_load.get('from_date')?.touched && salary_load.get('from_date')?.hasError('required')">Required !</span>
                  </div>
              </div>

              <div class="form-group row text-sm-right col-md-3">
                  <label class="col-sm-4 form-control-label m-t-5">To</label>
                  <div class="col-sm-8">
                      <input type="date" class="form-control" formControlName="to_date">

                      <span class="help-block text-danger"
                        *ngIf="salary_load.get('to_date')?.touched && salary_load.get('to_date')?.hasError('required')">Required !</span>
                  </div>
              </div>

              <div class="form-group row text-sm-right col-md-4">
                <label class="col-sm-4 form-control-label m-t-5">Category</label>
                <div class="col-sm-8">
                  <select class="form-control" formControlName="category">
                    <option *ngFor= "let view of salary_group" value="{{view.id}}" >{{view.type | uppercase}}</option>
                  </select>

                  <span class="help-block text-danger"
                    *ngIf="salary_load.get('category')?.touched && salary_load.get('category')?.hasError('required')">Required !</span>
                </div>
              </div>

              <div class="form-group col-md-2">
                  <button [disabled]="loading" class="btn btn-main" class="btn btn-success" type="submit">Load Attendance <i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button>
              </div>
            </form>
          </div>
          <div class="row" *ngIf="show_page === 1 && show_Load === 1">
            <div class="col-md-12">
              <div class="card-body widget-body">
                <div class="table_header">
                  <div class="row">
                    <div class="col-sm-12 col-md-6">
                      <div class="dataTables_length">
                        <label>
                          Show
                          <select [(ngModel)]="pageSize_emp" (ngModelChange)="PageSize_emp()" class="form-control form-control-sm" >
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                          </select>
                          Entries
                        </label>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-12 col-md-6">
                      <div class="dataTables_filter">
                        <label>
                          Search:
                          <input [(ngModel)]="searchDataValue_emp"  (ngModelChange)="searchData_emp(searchDataValue_emp)"  class="form-control form-control-sm"  />
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="table-responsive">
                  <div class="table-scroll">
                      <table matSort (matSortChange)="sortData($event)"
                      class="table table-hover mb-0">
                        <thead class="thead-light">
                          <tr>

                            <th mat-sort-header="id">#</th>
                            <th mat-sort-header="emp_id">Employee ID</th>
                            <th mat-sort-header="name">Employee Name </th>
                            <th mat-sort-header="att_hr">Attendance</th>
                            <th mat-sort-header="att_ot">OverTime</th>
                            <th mat-sort-header="att_cl">Com Off Leave</th>
                            <th mat-sort-header="att_sl">Sick Leave</th>
                            <th mat-sort-header="att_pl" class="text-end">Personal Leave</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let employee of List; let i = index" (click)="onRowClick_emp(employee)" >
                            <td>{{employee.id}}</td>
                            <td>{{employee.emp_id}}</td>
                            <td>{{employee.name }}</td>
                            <td>{{employee.hr}}</td>
                            <td>{{employee.ot}}</td>
                            <td>{{employee.cl }}</td>
                            <td>{{employee.sl}}</td>
                            <td>{{employee.pl}}</td>
                          </tr>
                        </tbody>
                      </table>
                  </div>
                  <!-- table footer -->
                    <div class="table_footer">
                      <div class="col-sm-12 col-md-5">
                        <div class="dataTables_info">
                          Showing {{ serialNumberArray_emp[0] }} to
                          {{ serialNumberArray_emp[serialNumberArray_emp.length - 1] }} of
                          {{ totalData_emp }} entries
                        </div>
                      </div>
                    <div class="col-sm-12 col-md-3">
                        <div class="pagination_section">
                          <ul class="pagination">
                            <li   class="page-item"  [ngClass]="{ disabled: currentPage_emp === 1}"  >
                              <a (click)="getMoreData('previous')"  class="page-link" href="javascript:void(0);" tabindex="-1">Previous</a>
                            </li>

                            <ng-container *ngFor="let item of pageNumberArray_emp; let i = index">
                              <li class="page-item" [class.active]="item === currentPage_emp" [ngClass]="  (pageNumberArray_emp[currentPage_emp - 2] > item &&  item !== 1 && pageNumberArray_emp.length > 6) ||
                                  (pageNumberArray_emp[currentPage_emp] < item && item !== 1 && pageNumberArray_emp.length > 6 && pageNumberArray_emp.length !== item)  ? 'hide-sub-menu' : 'show-sub-menu'" >
                                <a (click)="moveToPage(item)" class="page-link" href="javascript:void(0);">
                                  {{ item }}
                                  <span *ngIf="item === currentPage_emp" class="sr-only" >(current)</span>
                                </a>
                              </li>
                              <li class="page-item" *ngIf=" i === 0 && pageNumberArray_emp.length > 6 && currentPage_emp > 2 " [hidden]="currentPage_emp === 1">
                                <a class="page-link"  (click)="moveToPage(currentPage_emp - 2)" href="javascript:void(0);"> ... </a>
                              </li>
                              <li  *ngIf="    i === pageNumberArray_emp.length - 2 &&  pageNumberArray_emp.length > 6 " [hidden]=" currentPage_emp >= pageNumberArray_emp[pageNumberArray_emp.length - 2] || totalData_emp < serialNumberArray_emp[serialNumberArray_emp.length - 1] "
                                class="page-item" >
                                <a class="page-link"  (click)="moveToPage(currentPage_emp + 2)" href="javascript:void(0);"> ... </a>
                              </li>
                            </ng-container>

                            <li class="page-item"   [ngClass]="{ disabled: currentPage_emp === pageNumberArray_emp[pageNumberArray_emp.length - 1] ||   List.length === 0   }" >
                              <a (click)="getMoreData('next')" class="page-link" href="javascript:void(0);" >Next
                              </a>
                            </li>
                          </ul>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>


<div id="salary_calc" #salary_calc class="modal custom-modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-md" role="document">
      <div class="modal-content">
          <div class="modal-header" >
              <h5 class="modal-title" >Working Days</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form [formGroup]="payroll_days" (ngSubmit)="submit_payroll_days(payroll_days.value)">

              <div class="row">
                <div class="form-group col-xl-3">
                  <label for="name"> From Date </label>
                  </div>
                  <div class="form-group col-xl-9">
                  <input formControlName="from_date" id="from_date"  (input)="onInputChange()" placeholder="Enter From Date" type="date" class="form-control" >
                  <span class="help-block text-danger"
                    *ngIf="payroll_days.get('from_date')?.touched && payroll_days.get('from_date')?.hasError('required')">Enter From Date !</span>
                </div>

                <div class="form-group col-xl-3">
                  <label for="name"> To Date </label>
                  </div>
                  <div class="form-group col-xl-9">
                  <input formControlName="to_date" id="to_date"  (input)="onInputChange()" placeholder="Enter To Date" type="date" class="form-control" >
                  <span class="help-block text-danger"
                    *ngIf="payroll_days.get('to_date')?.touched && payroll_days.get('to_date')?.hasError('required')">Enter To Date !</span>
                </div>

               <div class="form-group col-xl-3">
                <label for="name"> No of Days </label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="no_of_days" id="no_of_days" [(ngModel)]="total_days" (input)="onInputChange()" placeholder="Enter No of days" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('no_of_days')?.touched && payroll_days.get('no_of_days')?.hasError('required')">Enter No of Days !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">No of Days Worked</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="no_of_workingdays" readonly id="no_of_workingdays" [(ngModel)]="total_workeddays" (input)="onInputChange()" placeholder="Enter No of Workingdays" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('no_of_workingdays')?.touched && payroll_days.get('no_of_workingdays')?.hasError('required')">Enter Worked Days !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">No of CL</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="no_of_cl" id="no_of_cl" readonly [(ngModel)]="cl_days" (input)="onInputChange()" placeholder="Enter No of CL" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('no_of_cl')?.touched && payroll_days.get('no_of_cl')?.hasError('required')">Enter No of CL !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">No of PL</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="no_of_pl" id="no_of_pl" readonly [(ngModel)]="pl_days" (input)="onInputChange()" placeholder="Enter No of PL" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('no_of_pl')?.touched && payroll_days.get('no_of_pl')?.hasError('required')">Enter No of PL !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">No of SL</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="no_of_sl" id="no_of_sl" readonly [(ngModel)]="sl_days"  (input)="onInputChange()"  placeholder="Enter No of SL" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('no_of_sl')?.touched && payroll_days.get('no_of_sl')?.hasError('required')">Enter No of SL !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">No of OT</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="no_of_ot" id="no_of_ot" readonly (input)="onInputChange()"  placeholder="Enter No of OT" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('no_of_ot')?.touched && payroll_days.get('no_of_ot')?.hasError('required')">Enter No of OT !</span>
              </div>

              <div class="form-group col-xl-2">
                <label for="name">PL Available</label>
                </div>
                <div class="form-group col-xl-2">
                <input formControlName="pl_available" id="pl_available"  placeholder="Enter PL Available" readonly type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('pl_available')?.touched && payroll_days.get('pl_available')?.hasError('required')">Enter PL Available !</span>
              </div>

              <div class="form-group col-xl-2">
                <label for="name">PL Use</label>
                </div>
                <div class="form-group col-xl-2">
                <input formControlName="pl_use" id="pl_use"  placeholder="Enter PL Use"  min="0" max="1" type="number" [(ngModel)]="plUseValue" (input)="onInputChange()" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('pl_use')?.touched && payroll_days.get('pl_use')?.hasError('required')">Enter PL Use !</span>
              </div>

              <div class="form-group col-xl-2">
                <label for="name">PL Balance</label>
                </div>
                <div class="form-group col-xl-2">
                <input formControlName="pl_balance" id="pl_balance" placeholder="Enter PL Balance" min="0" type="number" readonly class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('pl_balance')?.touched && payroll_days.get('pl_balance')?.hasError('required')">Enter PL Balance !</span>
              </div>

              <div class="form-group col-xl-2">
                <label for="name">Comp off Available</label>
                </div>
                <div class="form-group col-xl-2">
                <input formControlName="c_off_available" id="c_off_available" placeholder="Enter Comp off Available" readonly type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('c_off_available')?.touched && payroll_days.get('c_off_available')?.hasError('required')">Enter Comp off Available !</span>
              </div>

              <div class="form-group col-xl-2">
                <label for="name">Comp off Use</label>
                </div>
                <div class="form-group col-xl-2">
                <input formControlName="c_off_use" id="c_off_use"  placeholder="Enter Comp off Use" min="0" type="number" [(ngModel)]="clUseValue" (input)="onInputChange_cl()" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('c_off_use')?.touched && payroll_days.get('c_off_use')?.hasError('required')">Enter Comp off Use !</span>
              </div>


              <div class="form-group col-xl-2">
                <label for="name">Comp off Balance</label>
                </div>
                <div class="form-group col-xl-2">
                <input formControlName="c_off_balance" id="c_off_balance" placeholder="Enter Comp off Balance" min="0" type="number" readonly class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('c_off_balance')?.touched && payroll_days.get('c_off_balance')?.hasError('required')">Enter Comp off Balance !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">LOP</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="lop" id="lop" placeholder="Enter LOP" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('lop')?.touched && payroll_days.get('lop')?.hasError('required')">Enter LOP !</span>
              </div>

              <div class="form-group col-xl-3">
                <label for="name">Salary Paid Day</label>
                </div>
                <div class="form-group col-xl-9">
                <input formControlName="salary_paid_day" id="salary_paid_day" placeholder="Enter Salary Paid Day" type="number" class="form-control" >
                <span class="help-block text-danger"
                  *ngIf="payroll_days.get('salary_paid_day')?.touched && payroll_days.get('salary_paid_day')?.hasError('required')">Enter Salary Paid Day !</span>
              </div>

               <div class="col-xl-6"></div>
                <div>
                  <button [disabled]="loading" class="btn btn-primary" type="submit" >Submit <i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button>
                 </div>
              </div>

            </form>
          </div>
      </div>
  </div>
</div>


<div *ngIf="show_table">
  <div >
      <div>
         <button type="submit" class="btn btn-info" (click)="set_zero()"> <i class="fas fa fa-arrow-left"></i> Back</button>
      </div>
     &nbsp;
   <div class="card">
    <div class="card-header">
       <h5> <span>Salary Period</span></h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
            <table class="table employee-details-table ">
              <tbody  >
                  <tr>
                      <th>Total Days</th>
                      <td>{{final_data.no_of_days}}</td>
                  </tr>


                  <tr>
                      <th>Total Worked Days</th>
                      <td>{{final_data.no_of_workeddays}}</td>
                  </tr>
                  <tr>
                    <th>Personal Leave</th>
                    <td>{{final_data.personal_leave}}</td>
                </tr>

                  <tr>
                      <th>Casual Leave</th>
                      <td>{{final_data.com_off_leave}}</td>
                  </tr>
              </tbody>
            </table>
      </div>

            <div class="col-md-6">
                <table class="table employee-details-table col-md-6">

                  <tbody   >
                      <tr>
                          <th>Sick Leave</th>
                          <td>{{final_data.sick_leave}}</td>
                      </tr>


                      <tr>
                        <th>Com Off Use</th>
                        <td>{{final_data.com_off}}</td>
                    </tr>
                      <tr>
                          <th>LOP</th>
                          <td>{{final_data.lop}}</td>
                      </tr>
                      <tr>
                          <th>Salary Paid Days</th>
                          <td>{{final_data.salary_paid_days}}</td>
                      </tr>
                  </tbody>
                </table>
              </div>
         </div>
      </div>
   </div>

    <div class="row" *ngIf="this.payment === null">
      <div class="col-lg-12 col-md-7  ">
        <form [formGroup]="payroll_amount">
          <div class="card card-outline-info box-shadow">
            <div class="card-header">
              <h5><span>Salary</span></h5>
            </div>
            <div class="card-body">
              <div class="row">

                <div class="col-md-6">
                  <div class="row">
                    <div class="col-md-6 mt-2">
                      <b>Salary Amount </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('salary_amount')?.touched && payroll_amount.get('salary_amount')?.hasError('required')">Salary Amount Required !</span>
                        <span class="help-block text-danger" *ngIf="payroll_amount.get('salary_amount')?.touched && payroll_amount.get('salary_amount')?.hasError('minlength')">Salary Amount </span>
                    </div>
                    <div class="col-md-6">
                      <div class="input-group">
                        <input type="number" class="form-control" [(ngModel)]="salary_Amount" [readonly]="status" formControlName="salary_amount" placeholder="Employee Name">
                      </div>
                    </div>
                  </div>

                  <div class="row mt-3">
                  <div class="col-md-6 mt-2">
                    <b>Salary Advance </b>
                    <span class="help-block text-danger" *ngIf="payroll_amount.get('salary_advance')?.touched && payroll_amount.get('salary_advance')?.hasError('required')">Salary Advance  Required !</span>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('salary_advance')?.touched && payroll_amount.get('salary_advance')?.hasError('minlength')">Salary Advance</span>
                  </div>
                  <div class="col-md-6">
                    <div class="input-group">
                      <input type="number" class="form-control" [(ngModel)]="salary_advance" [readonly]="status"  (input)="salary_amount_calculation()" formControlName="salary_advance" placeholder=" Enter Salary Advance">
                    </div>
                  </div>
               </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Paid Amount </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('paid_amount')?.touched && payroll_amount.get('paid_amount')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="paid_amount" [(ngModel)]="salary_paid_amount" [readonly]="status" class="form-control" placeholder="Enter Paid Amount"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>OT Hours </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('ot_hours')?.touched && payroll_amount.get('ot_hours')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="ot_hours" [(ngModel)]="ot_hours" [readonly]="status" (input)="ot_amount_calculation()" class="form-control" placeholder="Enter OT Hours"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>OT Per Hour </b>

                      <span class="help-block text-danger" *ngIf="payroll_amount.get('ot_per_hour')?.touched && payroll_amount.get('ot_per_hour')?.hasError('pattern')">Valid Aadhar no!</span>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('ot_per_hour')?.touched && payroll_amount.get('ot_per_hour')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="ot_per_hour"  [(ngModel)]="ot_per_hours" [readonly]="status" (input)="ot_amount_calculation()" class="form-control" placeholder="Enter OT Per Hour"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>OT Paid Amount</b>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="ot_paid_amount" [(ngModel)]="ot_paid_amount" [readonly]="status" class="form-control" placeholder="Enter OT Paid Amount"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Total Amount </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('total_amount')?.touched && payroll_amount.get('total_amount')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="total_amount" [(ngModel)]="total_amount" [readonly]="status" class="form-control" placeholder="Enter Total Amount"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Fixed Salary</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('fixed_salary')?.touched && payroll_amount.get('fixed_salary')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="fixed_salary" [(ngModel)]="fixed_salary" [readonly]="status" class="form-control" placeholder="Enter DoB"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Fixed Payable Amount </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('fixed_payable_amount')?.touched && payroll_amount.get('fixed_payable_amount')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="fixed_payable_amount" [readonly]="status" [(ngModel)]="fixed_payable_salary" class="form-control" placeholder="Enter Fixed Payable Amount"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Basic + DA </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('basic_da')?.touched && payroll_amount.get('basic_da')?.hasError('required')"> Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="basic_da" [(ngModel)]="basic_da" [readonly]="status" class="form-control" placeholder="Enter Fixed Payable Amount"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b> HRA </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('hra')?.touched && payroll_amount.get('hra')?.hasError('required')"> Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="hra" [(ngModel)]="hra" [readonly]="status" class="form-control" placeholder=" Enter HRA"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b> Allowance </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('allowance')?.touched && payroll_amount.get('allowance')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="allowance" [(ngModel)]="allowance" [readonly]="status" class="form-control" placeholder=" Enter Email Id"/>
                    </div>
                  </div>

                </div>

                <div class="col-md-6">
                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>EPF Employee </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('epf_employee')?.touched && payroll_amount.get('epf_employee')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="epf_employee" [(ngModel)]="epf_deduction" [readonly]="status" class="form-control" placeholder="Enter EPF"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>ESI Employee </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('esi_employee')?.touched && payroll_amount.get('esi_employee')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="esi_employee"  [(ngModel)]="esi_deduction" [readonly]="status" class="form-control" placeholder="Enter ESI"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Total Deduction </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('total_deduction')?.touched && payroll_amount.get('total_deduction')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="total_deduction" [(ngModel)]="total_deduction" [readonly]="status" class="form-control" placeholder="Enter Total Deduction"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Pentrol/Food  Expenses </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('pertrol_food')?.touched && payroll_amount.get('pertrol_food')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="pertrol_food" [(ngModel)]="petrol_food_expenses" [readonly]="status" (input)="salary_amount_calculation()" class="form-control" placeholder=" Enter Address">
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Incentive and Others</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('incentive_others')?.touched && payroll_amount.get('incentive_others')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="incentive_others"  [(ngModel)]="incentive_others" [readonly]="status" (input)="salary_amount_calculation()" class="form-control" placeholder="Enter Address For Communication">
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Net Salary</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('net_salary')?.touched && payroll_amount.get('net_salary')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="net_salary" [(ngModel)]="net_salary" class="form-control" [readonly]="status" placeholder="Enter Bank Name"/>
                    </div>
                    </div>
                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Salary Paid</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('salary_paid')?.touched && payroll_amount.get('salary_paid')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="salary_paid" [(ngModel)]="salary_paid" class="form-control" [readonly]="status" placeholder="Enter Bank Name"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Gross Salary</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('gross_salary')?.touched && payroll_amount.get('gross_salary')?.hasError('required')">Required !</span>

                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="gross_salary" [(ngModel)]="gross_salary" class="form-control" [readonly]="status" placeholder="Enter Bank IFSC"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>EPF Employer Contribution</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('epf_employer')?.touched && payroll_amount.get('epf_employer')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="epf_employer" [(ngModel)]="epf_employer_contribution" [readonly]="status" class="form-control" placeholder="Enter EPF Employer"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>ESI Employer Contribution</b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('esi_employer')?.touched && payroll_amount.get('esi_employer')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="text" formControlName="esi_employer"  [(ngModel)]="esi_employer_contribution" [readonly]="status" class="form-control" placeholder="Enter ESI Employer"/>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-md-6 mt-2">
                      <b>Company Total Expence </b>
                      <span class="help-block text-danger" *ngIf="payroll_amount.get('company_total_expence')?.touched && payroll_amount.get('company_total_expence')?.hasError('required')">Required !</span>
                    </div>
                    <div class="col-md-6">
                      <input type="number" formControlName="company_total_expence" [(ngModel)]="company_total_expence" [readonly]="status" class="form-control"/>
                    </div>
                  </div>

                </div>
             </div>
          </div>

            <div class="align-center">
              <div class="row justify-content-center">

                <button *ngIf="this.payment === null" [disabled]="loading" type="submit" (click)="onSubmit(payroll_amount.value)" class="btn btn-success">Submit<i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button>

                <!-- <button  *ngIf="this.payment != null" [disabled]="loading"  (click)="make_transaction(payroll_amount.value)" class="btn btn-success">Make Transaction<i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button> -->
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<div *ngIf="this.payment !== null && show_table">

      <div  class="card">
        <div class="card-header">
          <h5><span>Salary Details</span></h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
             <table class="table employee-details-table ">
              <tbody>
                  <tr>
                    <th>Salary Amount</th>
                    <td>{{payment?.salary_amount|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                    <th>Salary Advance</th>
                    <td>{{payment?.salary_advance|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                      <th>Paid Amount</th>
                      <td>{{payment?.salary_amount_paid|indianCurrency :[]}}</td>
                  </tr>

                  <tr>
                    <th>OT Amount</th>
                    <td>{{payment?.ot_amount_paid|indianCurrency :[]}}</td>
                </tr>

                <tr>
                  <th>Total Amount</th>
                  <td>{{payment?.total_amount|indianCurrency :[]}}</td>
                </tr>

                <tr>
                    <th>Fixed Salary</th>
                    <td>{{payment?.fixed_salary|indianCurrency :[]}}</td>
                </tr>

                <tr>
                  <th>Fixed Payable Amount</th>
                  <td>{{payment?.payable_salary|indianCurrency :[]}}</td>
              </tr>

              <tr>
                <th>Basic + DA</th>
                <td>{{payment?.basic_da|indianCurrency :[]}}</td>
              </tr>
              <tr>
                <th>HRA</th>
                <td>{{payment?.hra|indianCurrency :[]}}</td>
              </tr>
              <tr>
                  <th>Allowance</th>
                  <td>{{payment?.allowance|indianCurrency :[]}}</td>
              </tr>

              </tbody>
            </table>
           </div>
            <div class="col-md-6">
              <table class="table employee-details-table ">
                <tbody>

                  <tr>
                    <th>EPF Employee</th>
                    <td>{{payment?.epf_deduction|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                    <th>ESI Employee</th>
                    <td>{{payment?.esi_deduction|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                    <th>Total Deduction</th>
                    <td>{{payment?.total_deduction|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                    <th>Petrol and Food Expense</th>
                    <td>{{payment?.petrol_food_expenses|indianCurrency :[]}} </td>
                  </tr>

                  <!-- <tr>
                    <th>Incentive and Others</th>
                    <td>{{payment?.incentive_others|indianCurrency}} </td>
                  </tr> -->
                  <tr>
                    <th>Net Salary</th>
                    <td>{{payment?.net_salary_credit|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                    <th>Salary Paid</th>
                    <td>{{payment?.salary_paid|indianCurrency :[]}} </td>
                  </tr>
                  <tr>
                    <th>Gross Salary</th>
                    <td>{{payment?.gross_salary|indianCurrency :[]}}</td>
                  </tr>

                  <tr>
                    <th>ESI Employer Contribution</th>
                    <td>{{payment?.esi_employer|indianCurrency :[]}}</td>
                  </tr>
                  <tr>
                    <th>EPF Employer Contribution</th>
                    <td>{{payment?.epf_employer|indianCurrency :[]}} </td>
                  </tr>
                  <tr>
                    <th>Company Total Expense</th>
                    <td>{{payment?.company_total_expense|indianCurrency :[]}} </td>
                  </tr>
                </tbody>
              </table>
              </div>
           </div>
            <table class="table col-12">
              <tr>
                <td class="align-center">
                  <button *ngIf="this.payment !== null" [disabled]="loading" (click)="make_transaction(payment)" class="btn btn-success">Make Transaction<i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button>
                </td>
              </tr>
            </table>

        </div>
      </div>
    </div>


    <div *ngIf="salary_credit">
      <div class="modal-header">
         <div>
             <button type="submit" class="btn btn-info " (click)="set_zero()"> <i class="fas fa-arrow-left"></i> Back</button>
            </div>
         <h3><small>EMPLOYEE SALARY DETAILS</small></h3>
      </div>
      &nbsp;
      <div class="modal-body">
        <div class="row">
            <div class="col">
                  <div class="card-body">
                      <div class="row" style="display: flex;">
                          <div class="col-md-3" style="flex: 1; display: flex; flex-direction: column;">
                            <table class=" salary_table card card-outline-info" style="flex: 1;padding-left: 50px; ">
                              <tbody>
                                  <tr>
                                    <th>Employee Name</th>
                                      <td>{{detail_view.name}}</td>
                                  </tr>
                                  <tr>
                                      <th>Total Working Hours</th>
                                      <td>{{detail_view.total_hours}}</td>
                                  </tr>
                                  <tr>
                                      <th>Number of Working Hours</th>
                                      <td>{{detail_view.working_hours}}</td>
                                  </tr>
                                  <tr>
                                      <th>Over Time (Hours)</th>
                                      <td>{{detail_view.over_time}}</td>
                                  </tr>
                                  <tr>
                                      <th>Fixed Salary</th>
                                      <td>{{salary_dtails.fixed_salary | indianCurrency : []}}</td>
                                  </tr>
                                  <tr>
                                    <th>EPF</th>
                                    <td>{{salary_dtails.epf_deduction | indianCurrency : []}}</td>
                                </tr>
                                  <tr>
                                    <th>ESI</th>
                                    <td>{{salary_dtails.esi_deduction | indianCurrency: []}}</td>
                                </tr>
                                  <tr>
                                    <th>Advance</th>
                                    <td>{{salary_dtails.salary_advance | indianCurrency : []}}</td>
                                </tr>

                              <tr>
                                <th>OT Amount</th>
                                <td>{{salary_dtails.ot_amount_paid | indianCurrency:[]}}</td>
                            </tr>
                                  <tr>
                                    <th>Salary Paid</th>
                                    <td>{{salary_dtails.salary_paid | indianCurrency:[]}}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        <div class="col-md-6" style="flex: 2; display: flex; flex-direction: column;">
                        <div class="table  card card-outline-info" style="flex: 1; padding-left: 20px;" >
                          <br>
                          <h5 class="table-title text-center "><strong>Bank Transaction Details</strong></h5>
                          <br>
                          <form class="form-horizontal" [formGroup]="form_salary" (ngSubmit)="salaryUpdate(form_salary.value)">
                            <div class="form-group row text-sm-right">
                                <label for="email-h-f" class="col-sm-3 form-control-label m-t-5">Amount</label>
                                <div class="col-sm-8">
                                  <div class="input-group">
                                    <input formControlName="ip_salary" type="number" class="form-control">
                                      <div class="input-group-prepend">
                                        <span class="input-group-text">  </span>
                                      </div>
                                  </div>
                                </div>
                            </div>
                            <div class="form-group row text-sm-right">
                              <label for="email-h-f" class="col-sm-3 form-control-label m-t-5">Paid Through</label>
                              <div class="col-sm-8">
                                <div class="input-group">

                                  <ng-select   formControlName="ip_bank_id" style="text-align: left;"  class="form-control custom-select" [clearable]="false">
                                    <ng-option *ngFor="let item of BankList" [value]="item.bank_id"  style="align-content:center;">
                                      {{ item.account_name}}
                                    </ng-option>
                                  </ng-select>

                                  <span class="help-block text-danger" *ngIf="form_salary.get('ip_bank_id')?.touched && form_salary.get('ip_bank_id')?.hasError('required')">select Bank Required !</span>
                                </div>
                              </div>
                          </div>
                          <div class="form-group row text-sm-right">
                            <label for="email-h-f" class="col-sm-3 form-control-label m-t-5">Payment Mode</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select formControlName="ip_tran_mode" class="form-control custom-select">
                                  <option value = "0" selected>Select Mode</option>
                                  <option value = "1">Wire</option>
                                  <option value = "2">Cash</option>
                                  <option value = "3">Check</option>
                                </select>

                                <span class="help-block text-danger" *ngIf="form_salary.get('ip_tran_mode')?.touched && form_salary.get('ip_tran_mode')?.hasError('required')">select Payment Mode Required !</span>
                              </div>
                            </div>
                        </div>
                            <div class="form-group row text-sm-right">
                              <label for="email-h-f" class="col-sm-3 form-control-label m-t-5">Transfer Number</label>
                              <div class="col-sm-8">
                                <div class="input-group">
                                  <input formControlName="ip_utr" type="text" class="form-control">
                                  <div class="input-group-prepend">
                                    <span class="input-group-text">UTR</span>

                                    <span class="help-block text-danger" *ngIf="form_salary.get('ip_utr')?.touched && form_salary.get('ip_utr')?.hasError('required')">Required !</span>
                                </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row text-sm-right">
                              <label for="email-h-f" class="col-sm-3 form-control-label m-t-5">Reference</label>
                              <div class="col-sm-8">
                                <div class="input-group">
                                  <input formControlName="ip_reff" type="text" class="form-control">
                                </div>
                              </div>
                            </div>
                            <div class="form-group row text-sm-right">
                              <label for="email-h-f" class="col-sm-3 form-control-label m-t-5">Payment Date</label>
                              <div class="col-sm-8">
                                <div class="input-group">
                                  <input formControlName="ip_tran_date" type="date" class="form-control">

                                  <span class="help-block text-danger" *ngIf="form_salary.get('ip_tran_date')?.touched && form_salary.get('ip_tran_date')?.hasError('required')">select Date Required !</span>
                                </div>
                              </div>
                            </div>
                            <div class="text-center">
                              <button [disabled]="loading" type="submit" class="btn btn-info">Submit <i class="fa fa-spinner fa-spin" *ngIf="loading"></i></button>
                            </div>
                            <div class="text-center">
                              <br>
                            </div>
                          </form>
                        </div>
                         </div>
                      </div>
                  </div>

                  <div class="card card-outline-info">
                    <div class="card-header">
                      <h5 class="card-title">Detailed View</h5>
                    </div>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-6">
                        <table class="table ">
                          <tbody>
                              <tr>
                                  <th>Employee Name</th>
                                  <td>{{detail_view.name}}</td>
                              </tr>
                              <tr>
                                  <th>Employee Code</th>
                                  <td>{{detail_view.emp_id}}</td>
                              </tr>
                              <tr>
                                  <th>PAN No</th>
                                  <td>{{detail_view.pan}}</td>
                              </tr>
                              <tr>
                                  <th>Aadhar No</th>
                                  <td>{{detail_view.aadhar}}</td>
                              </tr>
                          </tbody>
                        </table>
                      </div>

                      <div class="col-md-6">
                        <table class="table col-md-6">
                          <tbody>
                              <tr>
                                  <th>Bank Account Number</th>
                                  <td>{{detail_view.bank_acc}}</td>
                              </tr>
                              <tr>
                                  <th>Bank Name</th>
                                  <td>{{detail_view.bank_name}}</td>
                              </tr>
                              <tr>
                                  <th>IFSC</th>
                                  <td>{{detail_view.bank_ifsc}}</td>
                              </tr>
                              <tr>
                                  <th>BRANCH</th>
                                  <td>{{detail_view.bank_branch}}</td>
                              </tr>
                          </tbody>
                        </table>
                     </div>
                   </div>
               </div>
          </div>

            <div class="row" >
        <div class="col-md-12">
          <div class="card-body">
            <div class="table_header">
              <div class="row">
                <div class="col-sm-12 col-md-6">
                  <div class="dataTables_length">
                    <label>
                      Show
                      <select
                        #size_sal
                        (change)="PageSize_sal(size_sal.value)"
                        class="form-control form-control-sm"
                      >
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                      </select>
                      Entries
                    </label>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12 col-md-6">
                  <div class="dataTables_filter">
                    <label>
                      Search:
                      <input [(ngModel)]="searchDataValue_sal"  (ngModelChange)="searchData_sal(searchDataValue_sal)"  class="form-control form-control-sm"  />
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table matSort (matSortChange)="sortData_sal($event)"
              class="table table-center table-hover datatable">
                <thead class="thead-light">
                  <tr>
                    <th mat-sort-header="id">#</th>
                    <th mat-sort-header="tran_date">Date</th>
                    <th mat-sort-header="utr">utr</th>
                    <th mat-sort-header="amount">Amount</th>
                    <th mat-sort-header="reference">Reference</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let employee of List_sal; let i = index" (click)="onActivate_sal(employee)" >
                    <td>{{employee.id}}</td>
                    <td>{{employee.tran_date}}</td>
                    <td>{{employee.utr }}</td>
                    <td>{{employee.amount}}</td>
                    <td>{{employee.reference}}</td>
                  </tr>
                </tbody>
              </table>

              <!-- table footer -->
                <div class="table_footer">
                  <div class="col-sm-12 col-md-5">
                    <div class="dataTables_info">
                      Showing {{ serialNumberArray_sal[0] }} to
                      {{ serialNumberArray_sal[serialNumberArray_sal.length - 1] }} of
                      {{ totalData_sal }} entries
                    </div>
                  </div>
                <div class="col-sm-12 col-md-3">
                    <div class="pagination_section">
                      <ul class="pagination">
                        <li   class="page-item"  [ngClass]="{ disabled: currentPage === 1}"  >
                          <a (click)="getMoreData_sal('previous')"  class="page-link" href="javascript:void(0);" tabindex="-1">Previous</a>
                        </li>

                        <ng-container *ngFor="let item of pageNumberArray_sal; let i = index">
                          <li class="page-item" [class.active]="item === currentPage_sal" [ngClass]="  (pageNumberArray_sal[currentPage - 2] > item &&  item !== 1 && pageNumberArray_sal.length > 6) ||
                              (pageNumberArray_sal[currentPage_sal] < item && item !== 1 && pageNumberArray_sal.length > 6 && pageNumberArray_sal.length !== item)  ? 'hide-sub-menu' : 'show-sub-menu'" >
                            <a (click)="moveToPage_sal(item)" class="page-link" href="javascript:void(0);">
                              {{ item }}
                              <span *ngIf="item === currentPage_sal" class="sr-only" >(current)</span>
                            </a>
                          </li>
                          <li class="page-item" *ngIf=" i === 0 && pageNumberArray_sal.length > 6 && currentPage_sal > 2 " [hidden]="currentPage_sal === 1">
                            <a class="page-link"  (click)="moveToPage(currentPage_sal - 2)" href="javascript:void(0);"> ... </a>
                          </li>
                          <li  *ngIf="    i === pageNumberArray_sal.length - 2 &&  pageNumberArray_sal.length > 6 " [hidden]=" currentPage_sal >= pageNumberArray_sal[pageNumberArray_sal.length - 2] || totalData_sal < serialNumberArray_sal[serialNumberArray_sal.length - 1] "
                            class="page-item" >
                            <a class="page-link"  (click)="moveToPage(currentPage_sal + 2)" href="javascript:void(0);"> ... </a>
                          </li>
                        </ng-container>

                        <li class="page-item"   [ngClass]="{ disabled: currentPage_sal === pageNumberArray_sal[pageNumberArray_sal.length - 1] ||   List_sal.length === 0   }" >
                          <a (click)="getMoreData_sal('next')" class="page-link" href="javascript:void(0);" >Next
                          </a>
                        </li>
                      </ul>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
         </div>
        </div>
      </div>
    </div>
</div>
